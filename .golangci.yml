linters:
  # disable-all: true
  # enable:
  #   - megacheck
  #   - govet
  exclude-use-default: false  # Some key checks that will be missing if the default of 'true' is kept.
  enable-all: true
  disable:
   - scopelint
   - paralleltest
   - staticcheck
   - noctx
   - wsl
   - lll
  #   - prealloc
  # presets:
  #   - bugs
  #   - unused

    # bugs|comment|complexity|error|format|import|metalinter|module|performance|sql|style|test|unused
  # fast: true

run:
  skip-dirs:
    - cmd/test-files
    - build
    - artifacts
    - _tools
    - _artifacts
    - licenses
  # lint magefile, but ignore tools.go
  build-tags:
    - mage
    # - tools

# magefiles don't need to do so much wrapping of errors as a cli tool.
# exclude from stricter linting
issues:
  exclude-rules:
    - path: _test\.go
      linters:
        - goerr113
        - wrapcheck
    - linters:
        - goerr113
      text: "do not define dynamic errors"
    - path: '.*mage.*go'
      linters:
        - goerr113
        - wrapcheck
    - linters:
        - goerr113
      text: "magefiles don't need to worry about wrapping in the same way"
  # Fix found issues (if it's supported by the linter)
  fix: true
  # Show only new issues created after git revision `REV`
  # new-from-rev: REV
